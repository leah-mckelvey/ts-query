(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function u(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(s){if(s.ep)return;s.ep=!0;const o=u(s);fetch(s.href,o)}})();function er(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Re,ft;function k(){if(ft)return Re;ft=1;function a(i,u,c,s,o,d){return{tag:i,key:u,attrs:c,children:s,text:o,dom:d,is:void 0,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return a.normalize=function(i){return Array.isArray(i)?a("[",void 0,void 0,a.normalizeChildren(i),void 0,void 0):i==null||typeof i=="boolean"?null:typeof i=="object"?i:a("#",void 0,void 0,String(i),void 0,void 0)},a.normalizeChildren=function(i){for(var u=new Array(i.length),c=0,s=0;s<i.length;s++)u[s]=a.normalize(i[s]),u[s]!==null&&u[s].key!=null&&c++;if(c!==0&&c!==i.length)throw new TypeError(u.includes(null)?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");return u},Re=a,Re}var Se,lt;function Lt(){if(lt)return Se;lt=1;var a=k();return Se=function(i,u){return i==null||typeof i=="object"&&i.tag==null&&!Array.isArray(i)?u.length===1&&Array.isArray(u[0])&&(u=u[0]):(u=u.length===0&&Array.isArray(i)?i:[i,...u],i=void 0),a("",i&&i.key,i,u)},Se}var Ce,ct;function Ye(){return ct||(ct=1,Ce={}.hasOwnProperty),Ce}var ve,ot;function Ft(){return ot||(ot=1,ve={}),ve}var Te,ht;function $t(){if(ht)return Te;ht=1;var a=Ft();return Te=new Map([[a,!0]]),Te}var Ee,mt;function jt(){if(mt)return Ee;mt=1;var a=k(),i=Lt(),u=Ye(),c=Ft(),s=$t(),o=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,d=Object.create(null);function h(p){for(var R in p)if(u.call(p,R))return!1;return!0}function l(p){return p==="value"||p==="checked"||p==="selectedIndex"||p==="selected"}function v(p){for(var R,q="div",y=[],N={},K=!0;R=o.exec(p);){var _=R[1],G=R[2];if(_===""&&G!=="")q=G;else if(_==="#")N.id=G;else if(_===".")y.push(G);else if(R[3][0]==="["){var H=R[6];H&&(H=H.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),R[4]==="class"?y.push(H):(N[R[4]]=H===""?H:H||!0,l(R[4])&&(K=!1))}}return y.length>0&&(N.className=y.join(" ")),h(N)?N=c:s.set(N,K),d[p]={tag:q,attrs:N,is:N.is}}function g(p,R){R.tag=p.tag;var q=R.attrs;if(q==null)return R.attrs=p.attrs,R.is=p.is,R;if(u.call(q,"class")&&(q.class!=null&&(q.className=q.class),q.class=null),p.attrs!==c){var y=q.className;q=Object.assign({},p.attrs,q),p.attrs.className!=null&&(q.className=y!=null?String(p.attrs.className)+" "+String(y):p.attrs.className)}return p.tag==="input"&&u.call(q,"type")&&(q=Object.assign({type:q.type},q)),R.is=q.is,R.attrs=q,R}function S(p,R,...q){if(p==null||typeof p!="string"&&typeof p!="function"&&typeof p.view!="function")throw Error("The selector must be either a string or a component.");var y=i(R,q);return typeof p=="string"&&(y.children=a.normalizeChildren(y.children),p!=="[")?g(d[p]||v(p),y):(y.attrs==null&&(y.attrs={}),y.tag=p,y)}return Ee=S,Ee}var Ae,pt;function tr(){if(pt)return Ae;pt=1;var a=k();return Ae=function(i){return i==null&&(i=""),a("<",void 0,void 0,i,void 0,void 0)},Ae}var Oe,yt;function rr(){if(yt)return Oe;yt=1;var a=k(),i=Lt();return Oe=function(u,...c){var s=i(u,c);return s.attrs==null&&(s.attrs={}),s.tag="[",s.children=a.normalizeChildren(s.children),s},Oe}var Me,dt;function ir(){if(dt)return Me;dt=1;var a=jt();return a.trust=tr(),a.fragment=rr(),Me=a,Me}var Pe,gt;function It(){return gt||(gt=1,Pe=new WeakMap),Pe}var ze,wt;function Ut(){if(wt)return ze;wt=1;var a=It();function*i(u){var c=u.dom,s=u.domSize,o=a.get(c);if(c!=null)do{var d=c.nextSibling;a.get(c)===o&&(yield c,s--),c=d}while(s)}return ze=i,ze}var De,bt;function nr(){if(bt)return De;bt=1;var a=k(),i=It(),u=Ut(),c=$t();return De=function(){var s={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},o,d;function h(t){return t.ownerDocument}function l(t){return t.attrs&&t.attrs.xmlns||s[t.tag]}function v(t,e){if(t.state!==e)throw new Error("'vnode.state' must not be modified.")}function g(t){var e=t.state;try{return this.apply(e,arguments)}finally{v(t,e)}}function S(t){try{return h(t).activeElement}catch{return null}}function p(t,e,r,n,f,m,T){for(var E=r;E<n;E++){var w=e[E];w!=null&&R(t,w,f,T,m)}}function R(t,e,r,n,f){var m=e.tag;if(typeof m=="string")switch(e.state={},e.attrs!=null&&me(e.attrs,e,r),m){case"#":q(t,e,f);break;case"<":N(t,e,n,f);break;case"[":K(t,e,r,n,f);break;default:_(t,e,r,n,f)}else H(t,e,r,n,f)}function q(t,e,r){e.dom=h(t).createTextNode(e.children),ee(t,e.dom,r)}var y={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function N(t,e,r,n){var f=e.children.match(/^\s*?<(\w+)/im)||[],m=h(t).createElement(y[f[1]]||"div");r==="http://www.w3.org/2000/svg"?(m.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",m=m.firstChild):m.innerHTML=e.children,e.dom=m.firstChild,e.domSize=m.childNodes.length;for(var T=h(t).createDocumentFragment(),E;E=m.firstChild;)T.appendChild(E);ee(t,T,n)}function K(t,e,r,n,f){var m=h(t).createDocumentFragment();if(e.children!=null){var T=e.children;p(m,T,0,T.length,r,null,n)}e.dom=m.firstChild,e.domSize=m.childNodes.length,ee(t,m,f)}function _(t,e,r,n,f){var m=e.tag,T=e.attrs,E=e.is;n=l(e)||n;var w=n?E?h(t).createElementNS(n,m,{is:E}):h(t).createElementNS(n,m):E?h(t).createElement(m,{is:E}):h(t).createElement(m);if(e.dom=w,T!=null&&Jt(e,T,n),ee(t,w,f),!se(e)&&e.children!=null){var M=e.children;p(w,M,0,M.length,r,null,n),e.tag==="select"&&T!=null&&Wt(e,T)}}function G(t,e){var r;if(typeof t.tag.view=="function"){if(t.state=Object.create(t.tag),r=t.state.view,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0}else{if(t.state=void 0,r=t.tag,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0,t.state=t.tag.prototype!=null&&typeof t.tag.prototype.view=="function"?new t.tag(t):t.tag(t)}if(me(t.state,t,e),t.attrs!=null&&me(t.attrs,t,e),t.instance=a.normalize(g.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null}function H(t,e,r,n,f){G(e,r),e.instance!=null?(R(t,e.instance,r,n,f),e.dom=e.instance.dom,e.domSize=e.instance.domSize):e.domSize=0}function Y(t,e,r,n,f,m){if(!(e===r||e==null&&r==null))if(e==null||e.length===0)p(t,r,0,r.length,n,f,m);else if(r==null||r.length===0)X(t,e,0,e.length);else{var T=e[0]!=null&&e[0].key!=null,E=r[0]!=null&&r[0].key!=null,w=0,M=0;if(!T)for(;M<e.length&&e[M]==null;)M++;if(!E)for(;w<r.length&&r[w]==null;)w++;if(T!==E)X(t,e,M,e.length),p(t,r,w,r.length,n,f,m);else if(E){for(var V=e.length-1,U=r.length-1,le,J,j,Q,D,de;V>=M&&U>=w&&(Q=e[V],D=r[U],Q.key===D.key);)Q!==D&&z(t,Q,D,n,f,m),D.dom!=null&&(f=D.dom),V--,U--;for(;V>=M&&U>=w&&(J=e[M],j=r[w],J.key===j.key);)M++,w++,J!==j&&z(t,J,j,n,O(e,M,f),m);for(;V>=M&&U>=w&&!(w===U||J.key!==D.key||Q.key!==j.key);)de=O(e,M,f),B(t,Q,de),Q!==j&&z(t,Q,j,n,de,m),++w<=--U&&B(t,J,f),J!==D&&z(t,J,D,n,f,m),D.dom!=null&&(f=D.dom),M++,V--,Q=e[V],D=r[U],J=e[M],j=r[w];for(;V>=M&&U>=w&&Q.key===D.key;)Q!==D&&z(t,Q,D,n,f,m),D.dom!=null&&(f=D.dom),V--,U--,Q=e[V],D=r[U];if(w>U)X(t,e,M,V+1);else if(M>V)p(t,r,w,U+1,n,f,m);else{var kt=f,st=U-w+1,ae=new Array(st),ge=0,$=0,we=2147483647,be=0,le,qe;for($=0;$<st;$++)ae[$]=-1;for($=U;$>=w;$--){le==null&&(le=A(e,M,V+1)),D=r[$];var te=le[D.key];te!=null&&(we=te<we?te:-1,ae[$-w]=te,Q=e[te],e[te]=null,Q!==D&&z(t,Q,D,n,f,m),D.dom!=null&&(f=D.dom),be++)}if(f=kt,be!==V-M+1&&X(t,e,M,V+1),be===0)p(t,r,w,U+1,n,f,m);else if(we===-1)for(qe=I(ae),ge=qe.length-1,$=U;$>=w;$--)j=r[$],ae[$-w]===-1?R(t,j,n,m,f):qe[ge]===$-w?ge--:B(t,j,f),j.dom!=null&&(f=r[$].dom);else for($=U;$>=w;$--)j=r[$],ae[$-w]===-1&&R(t,j,n,m,f),j.dom!=null&&(f=r[$].dom)}}else{var ye=e.length<r.length?e.length:r.length;for(w=w<M?w:M;w<ye;w++)J=e[w],j=r[w],!(J===j||J==null&&j==null)&&(J==null?R(t,j,n,m,O(e,w+1,f)):j==null?fe(t,J):z(t,J,j,n,O(e,w+1,f),m));e.length>ye&&X(t,e,w,e.length),r.length>ye&&p(t,r,w,r.length,n,f,m)}}}function z(t,e,r,n,f,m){var T=e.tag,E=r.tag;if(T===E&&e.is===r.is){if(r.state=e.state,r.events=e.events,Zt(r,e))return;if(typeof T=="string")switch(r.attrs!=null&&pe(r.attrs,r,n),T){case"#":W(e,r);break;case"<":L(t,e,r,m,f);break;case"[":x(t,e,r,n,f,m);break;default:C(e,r,n,m)}else P(t,e,r,n,f,m)}else fe(t,e),R(t,r,n,m,f)}function W(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}function L(t,e,r,n,f){e.children!==r.children?(rt(t,e),N(t,r,n,f)):(r.dom=e.dom,r.domSize=e.domSize)}function x(t,e,r,n,f,m){Y(t,e.children,r.children,n,f,m);var T=0,E=r.children;if(r.dom=null,E!=null)for(var w=0;w<E.length;w++){var M=E[w];M!=null&&M.dom!=null&&(r.dom==null&&(r.dom=M.dom),T+=M.domSize||1)}r.domSize=T}function C(t,e,r,n){var f=e.dom=t.dom;n=l(e)||n,(t.attrs!=e.attrs||e.attrs!=null&&!c.get(e.attrs))&&Xt(e,t.attrs,e.attrs,n),se(e)||Y(f,t.children,e.children,r,null,n)}function P(t,e,r,n,f,m){if(r.instance=a.normalize(g.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");pe(r.state,r,n),r.attrs!=null&&pe(r.attrs,r,n),r.instance!=null?(e.instance==null?R(t,r.instance,n,m,f):z(t,e.instance,r.instance,n,f,m),r.dom=r.instance.dom,r.domSize=r.instance.domSize):(e.instance!=null&&fe(t,e.instance),r.domSize=0)}function A(t,e,r){for(var n=Object.create(null);e<r;e++){var f=t[e];if(f!=null){var m=f.key;m!=null&&(n[m]=e)}}return n}var F=[];function I(t){for(var e=[0],r=0,n=0,f=0,m=F.length=t.length,f=0;f<m;f++)F[f]=t[f];for(var f=0;f<m;++f)if(t[f]!==-1){var T=e[e.length-1];if(t[T]<t[f]){F[f]=T,e.push(f);continue}for(r=0,n=e.length-1;r<n;){var E=(r>>>1)+(n>>>1)+(r&n&1);t[e[E]]<t[f]?r=E+1:n=E}t[f]<t[e[r]]&&(r>0&&(F[f]=e[r-1]),e[r]=f)}for(r=e.length,n=e[r-1];r-- >0;)e[r]=n,n=F[n];return F.length=0,e}function O(t,e,r){for(;e<t.length;e++)if(t[e]!=null&&t[e].dom!=null)return t[e].dom;return r}function B(t,e,r){if(e.dom!=null){var n;if(e.domSize==null||e.domSize===1)n=e.dom;else{n=h(t).createDocumentFragment();for(var f of u(e))n.appendChild(f)}ee(t,n,r)}}function ee(t,e,r){r!=null?t.insertBefore(e,r):t.appendChild(e)}function se(t){if(t.attrs==null||t.attrs.contenteditable==null&&t.attrs.contentEditable==null)return!1;var e=t.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var r=e[0].children;t.dom.innerHTML!==r&&(t.dom.innerHTML=r)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function X(t,e,r,n){for(var f=r;f<n;f++){var m=e[f];m!=null&&fe(t,m)}}function Z(t,e,r,n){var f=e.state,m=g.call(r.onbeforeremove,e);if(m!=null){var T=d;for(var E of u(e))i.set(E,T);n.v++,Promise.resolve(m).finally(function(){v(e,f),tt(t,e,n)})}}function tt(t,e,r){--r.v===0&&(ce(e),rt(t,e))}function fe(t,e){var r={v:1};typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"&&Z(t,e,e.state,r),e.attrs&&typeof e.attrs.onbeforeremove=="function"&&Z(t,e,e.attrs,r),tt(t,e,r)}function rt(t,e){if(e.dom!=null)if(e.domSize==null||e.domSize===1)t.removeChild(e.dom);else for(var r of u(e))t.removeChild(r)}function ce(t){if(typeof t.tag!="string"&&typeof t.state.onremove=="function"&&g.call(t.state.onremove,t),t.attrs&&typeof t.attrs.onremove=="function"&&g.call(t.attrs.onremove,t),typeof t.tag!="string")t.instance!=null&&ce(t.instance);else{t.events!=null&&(t.events._=null);var e=t.children;if(Array.isArray(e))for(var r=0;r<e.length;r++){var n=e[r];n!=null&&ce(n)}}}function Jt(t,e,r){for(var n in e)oe(t,n,null,e[n],r)}function oe(t,e,r,n,f){if(!(e==="key"||n==null||it(e)||r===n&&!Yt(t,e)&&typeof n!="object")){if(e[0]==="o"&&e[1]==="n")return ut(t,e,n);if(e.slice(0,6)==="xlink:")t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),n);else if(e==="style")at(t.dom,r,n);else if(nt(t,e,f)){if(e==="value"){if((t.tag==="input"||t.tag==="textarea")&&t.dom.value===""+n||t.tag==="select"&&r!==null&&t.dom.value===""+n||t.tag==="option"&&r!==null&&t.dom.value===""+n)return;if(t.tag==="input"&&t.attrs.type==="file"&&""+n!=""){console.error("`value` is read-only on file inputs!");return}}t.tag==="input"&&e==="type"?t.dom.setAttribute(e,n):t.dom[e]=n}else typeof n=="boolean"?n?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute(e==="className"?"class":e,n)}}function Gt(t,e,r,n){if(!(e==="key"||r==null||it(e)))if(e[0]==="o"&&e[1]==="n")ut(t,e,void 0);else if(e==="style")at(t.dom,r,null);else if(nt(t,e,n)&&e!=="className"&&e!=="title"&&!(e==="value"&&(t.tag==="option"||t.tag==="select"&&t.dom.selectedIndex===-1&&t.dom===S(t.dom)))&&!(t.tag==="input"&&e==="type"))t.dom[e]=null;else{var f=e.indexOf(":");f!==-1&&(e=e.slice(f+1)),r!==!1&&t.dom.removeAttribute(e==="className"?"class":e)}}function Wt(t,e){if("value"in e)if(e.value===null)t.dom.selectedIndex!==-1&&(t.dom.value=null);else{var r=""+e.value;(t.dom.value!==r||t.dom.selectedIndex===-1)&&(t.dom.value=r)}"selectedIndex"in e&&oe(t,"selectedIndex",null,e.selectedIndex,void 0)}function Xt(t,e,r,n){var f;if(e!=null){e===r&&!c.has(r)&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major");for(var m in e)(f=e[m])!=null&&(r==null||r[m]==null)&&Gt(t,m,f,n)}if(r!=null)for(var m in r)oe(t,m,e&&e[m],r[m],n)}function Yt(t,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&(t.dom===S(t.dom)||t.tag==="option"&&t.dom.parentNode===S(t.dom))}function it(t){return t==="oninit"||t==="oncreate"||t==="onupdate"||t==="onremove"||t==="onbeforeremove"||t==="onbeforeupdate"}function nt(t,e,r){return r===void 0&&(t.tag.indexOf("-")>-1||t.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in t.dom}function at(t,e,r){if(e!==r)if(r==null)t.style="";else if(typeof r!="object")t.style=r;else if(e==null||typeof e!="object"){t.style="";for(var n in r){var f=r[n];f!=null&&(n.includes("-")?t.style.setProperty(n,String(f)):t.style[n]=String(f))}}else{for(var n in e)e[n]!=null&&r[n]==null&&(n.includes("-")?t.style.removeProperty(n):t.style[n]="");for(var n in r){var f=r[n];f!=null&&(f=String(f))!==String(e[n])&&(n.includes("-")?t.style.setProperty(n,f):t.style[n]=f)}}}function he(){this._=o}he.prototype=Object.create(null),he.prototype.handleEvent=function(t){var e=this["on"+t.type],r;typeof e=="function"?r=e.call(t.currentTarget,t):typeof e.handleEvent=="function"&&e.handleEvent(t);var n=this;n._!=null&&(t.redraw!==!1&&(0,n._)(),r!=null&&typeof r.then=="function"&&Promise.resolve(r).then(function(){n._!=null&&t.redraw!==!1&&(0,n._)()})),r===!1&&(t.preventDefault(),t.stopPropagation())};function ut(t,e,r){if(t.events!=null){if(t.events._=o,t.events[e]===r)return;r!=null&&(typeof r=="function"||typeof r=="object")?(t.events[e]==null&&t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=r):(t.events[e]!=null&&t.dom.removeEventListener(e.slice(2),t.events,!1),t.events[e]=void 0)}else r!=null&&(typeof r=="function"||typeof r=="object")&&(t.events=new he,t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=r)}function me(t,e,r){typeof t.oninit=="function"&&g.call(t.oninit,e),typeof t.oncreate=="function"&&r.push(g.bind(t.oncreate,e))}function pe(t,e,r){typeof t.onupdate=="function"&&r.push(g.bind(t.onupdate,e))}function Zt(t,e){do{if(t.attrs!=null&&typeof t.attrs.onbeforeupdate=="function"){var r=g.call(t.attrs.onbeforeupdate,t,e);if(r!==void 0&&!r)break}if(typeof t.tag!="string"&&typeof t.state.onbeforeupdate=="function"){var r=g.call(t.state.onbeforeupdate,t,e);if(r!==void 0&&!r)break}return!1}while(!1);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}var ne;return function(t,e,r){if(!t)throw new TypeError("DOM element being rendered to does not exist.");if(ne!=null&&t.contains(ne))throw new TypeError("Node is currently being rendered to and thus is locked.");var n=o,f=ne,m=[],T=S(t),E=t.namespaceURI;ne=t,o=typeof r=="function"?r:void 0,d={};try{t.vnodes==null&&(t.textContent=""),e=a.normalizeChildren(Array.isArray(e)?e:[e]),Y(t,t.vnodes,e,m,null,E==="http://www.w3.org/1999/xhtml"?void 0:E),t.vnodes=e,T!=null&&S(t)!==T&&typeof T.focus=="function"&&T.focus();for(var w=0;w<m.length;w++)m[w]()}finally{o=n,ne=f}}},De}var Ne,qt;function Ht(){return qt||(qt=1,Ne=nr()()),Ne}var xe,Rt;function ar(){if(Rt)return xe;Rt=1;var a=k();return xe=function(i,u,c){var s=[],o=!1,d=-1;function h(){for(d=0;d<s.length;d+=2)try{i(s[d],a(s[d+1]),l)}catch(g){c.error(g)}d=-1}function l(){o||(o=!0,u(function(){o=!1,h()}))}l.sync=h;function v(g,S){if(S!=null&&S.view==null&&typeof S!="function")throw new TypeError("m.mount expects a component, not a vnode.");var p=s.indexOf(g);p>=0&&(s.splice(p,2),p<=d&&(d-=2),i(g,[])),S!=null&&(s.push(g,S),i(g,a(S),l))}return{mount:v,redraw:l}},xe}var Le,St;function Ze(){if(St)return Le;St=1;var a=Ht();return Le=ar()(a,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),Le}var Fe,Ct;function _t(){return Ct||(Ct=1,Fe=function(a){if(Object.prototype.toString.call(a)!=="[object Object]")return"";var i=[];for(var u in a)c(u,a[u]);return i.join("&");function c(s,o){if(Array.isArray(o))for(var d=0;d<o.length;d++)c(s+"["+d+"]",o[d]);else if(Object.prototype.toString.call(o)==="[object Object]")for(var d in o)c(s+"["+d+"]",o[d]);else i.push(encodeURIComponent(s)+(o!=null&&o!==""?"="+encodeURIComponent(o):""))}}),Fe}var $e,vt;function ke(){if(vt)return $e;vt=1;var a=_t();return $e=function(i,u){if(/:([^\/\.-]+)(\.{3})?:/.test(i))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(u==null)return i;var c=i.indexOf("?"),s=i.indexOf("#"),o=s<0?i.length:s,d=c<0?o:c,h=i.slice(0,d),l={};Object.assign(l,u);var v=h.replace(/:([^\/\.-]+)(\.{3})?/g,function(N,K,_){return delete l[K],u[K]==null?N:_?u[K]:encodeURIComponent(String(u[K]))}),g=v.indexOf("?"),S=v.indexOf("#"),p=S<0?v.length:S,R=g<0?p:g,q=v.slice(0,R);c>=0&&(q+=i.slice(c,o)),g>=0&&(q+=(c<0?"?":"&")+v.slice(g,p));var y=a(l);return y&&(q+=(c<0&&g<0?"?":"&")+y),s>=0&&(q+=i.slice(s)),S>=0&&(q+=(s<0?"":"&")+v.slice(S)),q},$e}var je,Tt;function ur(){if(Tt)return je;Tt=1;var a=ke(),i=Ye();return je=function(u,c){function s(h){return new Promise(h)}function o(h,l){return new Promise(function(v,g){h=a(h,l.params);var S=l.method!=null?l.method.toUpperCase():"GET",p=l.body,R=(l.serialize==null||l.serialize===JSON.serialize)&&!(p instanceof u.FormData||p instanceof u.URLSearchParams),q=l.responseType||(typeof l.extract=="function"?"":"json"),y=new u.XMLHttpRequest,N=!1,K=!1,_=y,G,H=y.abort;y.abort=function(){N=!0,H.call(this)},y.open(S,h,l.async!==!1,typeof l.user=="string"?l.user:void 0,typeof l.password=="string"?l.password:void 0),R&&p!=null&&!d(l,"content-type")&&y.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof l.deserialize!="function"&&!d(l,"accept")&&y.setRequestHeader("Accept","application/json, text/*"),l.withCredentials&&(y.withCredentials=l.withCredentials),l.timeout&&(y.timeout=l.timeout),y.responseType=q;for(var Y in l.headers)i.call(l.headers,Y)&&y.setRequestHeader(Y,l.headers[Y]);y.onreadystatechange=function(z){if(!N&&z.target.readyState===4)try{var W=z.target.status>=200&&z.target.status<300||z.target.status===304||/^file:\/\//i.test(h),L=z.target.response,x;if(q==="json"){if(!z.target.responseType&&typeof l.extract!="function")try{L=JSON.parse(z.target.responseText)}catch{L=null}}else(!q||q==="text")&&L==null&&(L=z.target.responseText);if(typeof l.extract=="function"?(L=l.extract(z.target,l),W=!0):typeof l.deserialize=="function"&&(L=l.deserialize(L)),W){if(typeof l.type=="function")if(Array.isArray(L))for(var C=0;C<L.length;C++)L[C]=new l.type(L[C]);else L=new l.type(L);v(L)}else{var P=function(){try{x=z.target.responseText}catch{x=L}var A=new Error(x);A.code=z.target.status,A.response=L,g(A)};y.status===0?setTimeout(function(){K||P()}):P()}}catch(A){g(A)}},y.ontimeout=function(z){K=!0;var W=new Error("Request timed out");W.code=z.target.status,g(W)},typeof l.config=="function"&&(y=l.config(y,l,h)||y,y!==_&&(G=y.abort,y.abort=function(){N=!0,G.call(this)})),p==null?y.send():typeof l.serialize=="function"?y.send(l.serialize(p)):p instanceof u.FormData||p instanceof u.URLSearchParams?y.send(p):y.send(JSON.stringify(p))})}s.prototype=Promise.prototype,s.__proto__=Promise;function d(h,l){for(var v in h.headers)if(i.call(h.headers,v)&&v.toLowerCase()===l)return!0;return!1}return{request:function(h,l){typeof h!="string"?(l=h,h=h.url):l==null&&(l={});var v=o(h,l);if(l.background===!0)return v;var g=0;function S(){--g===0&&typeof c=="function"&&c()}return p(v);function p(R){var q=R.then;return R.constructor=s,R.then=function(){g++;var y=q.apply(R,arguments);return y.then(S,function(N){if(S(),g===0)throw N}),p(y)},R}}}},je}var Ie,Et;function sr(){if(Et)return Ie;Et=1;var a=Ze();return Ie=ur()(typeof window<"u"?window:null,a.redraw),Ie}var Ue,At;function Qt(){if(At)return Ue;At=1;var a=/%(?:[0-7]|(?!c[01]|e0%[89]|ed%[ab]|f0%8|f4%[9ab])(?:c|d|(?:e|f[0-4]%[89ab])[\da-f]%[89ab])[\da-f]%[89ab])[\da-f]/gi;return Ue=function(i){return String(i).replace(a,decodeURIComponent)},Ue}var He,Ot;function Kt(){if(Ot)return He;Ot=1;var a=Qt();return He=function(i){if(i===""||i==null)return{};i.charAt(0)==="?"&&(i=i.slice(1));for(var u=i.split("&"),c={},s={},o=0;o<u.length;o++){var d=u[o].split("="),h=a(d[0]),l=d.length===2?a(d[1]):"";l==="true"?l=!0:l==="false"&&(l=!1);var v=h.split(/\]\[?|\[/),g=s;h.indexOf("[")>-1&&v.pop();for(var S=0;S<v.length;S++){var p=v[S],R=v[S+1],q=R==""||!isNaN(parseInt(R,10));if(p===""){var h=v.slice(0,S).join();c[h]==null&&(c[h]=Array.isArray(g)?g.length:0),p=c[h]++}else if(p==="__proto__")break;if(S===v.length-1)g[p]=l;else{var y=Object.getOwnPropertyDescriptor(g,p);y!=null&&(y=y.value),y==null&&(g[p]=y=q?[]:{}),g=y}}}return s},He}var _e,Mt;function et(){if(Mt)return _e;Mt=1;var a=Kt();return _e=function(i){var u=i.indexOf("?"),c=i.indexOf("#"),s=c<0?i.length:c,o=u<0?s:u,d=i.slice(0,o).replace(/\/{2,}/g,"/");return d?d[0]!=="/"&&(d="/"+d):d="/",{path:d,params:u<0?{}:a(i.slice(u+1,s))}},_e}var Qe,Pt;function fr(){if(Pt)return Qe;Pt=1;var a=et();return Qe=function(i){var u=a(i),c=Object.keys(u.params),s=[],o=new RegExp("^"+u.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(d,h,l){return h==null?"\\"+d:(s.push({k:h,r:l==="..."}),l==="..."?"(.*)":l==="."?"([^/]+)\\.":"([^/]+)"+(l||""))})+"\\/?$");return function(d){for(var h=0;h<c.length;h++)if(u.params[c[h]]!==d.params[c[h]])return!1;if(!s.length)return o.test(d.path);var l=o.exec(d.path);if(l==null)return!1;for(var h=0;h<s.length;h++)d.params[s[h].k]=s[h].r?l[h+1]:decodeURIComponent(l[h+1]);return!0}},Qe}var Ke,zt;function Bt(){if(zt)return Ke;zt=1;var a=Ye(),i=/^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$/;return Ke=function(u,c){var s={};if(c!=null)for(var o in u)a.call(u,o)&&!i.test(o)&&c.indexOf(o)<0&&(s[o]=u[o]);else for(var o in u)a.call(u,o)&&!i.test(o)&&(s[o]=u[o]);return s},Ke}var Be,Dt;function lr(){if(Dt)return Be;Dt=1;var a=k(),i=jt(),u=Qt(),c=ke(),s=et(),o=fr(),d=Bt();return Be=function(h,l){var v=Promise.resolve(),g=!1,S=!1,p=!1,R,q,y,N,K,_,G,H,Y={onremove:function(){S=p=!1,h.removeEventListener("popstate",L,!1)},view:function(){var C=a(K,_.key,_);return N?N.render(C):[C]}},z=x.SKIP={};function W(){g=!1;var C=h.location.hash;x.prefix[0]!=="#"&&(C=h.location.search+C,x.prefix[0]!=="?"&&(C=h.location.pathname+C,C[0]!=="/"&&(C="/"+C)));var P=u(C).slice(x.prefix.length),A=s(P);Object.assign(A.params,h.history.state);function F(O){console.error(O),x.set(y,null,{replace:!0})}I(0);function I(O){for(;O<q.length;O++)if(q[O].check(A)){var B=q[O].component,ee=q[O].route,se=B,X=H=function(Z){if(X===H){if(Z===z)return I(O+1);K=Z!=null&&(typeof Z.view=="function"||typeof Z=="function")?Z:"div",_=A.params,G=P,H=null,N=B.render?B:null,p?l.redraw():(p=!0,l.mount(R,Y))}};B.view||typeof B=="function"?(B={},X(se)):B.onmatch?v.then(function(){return B.onmatch(A.params,P,ee)}).then(X,P===y?null:F):X();return}if(P===y)throw new Error("Could not resolve default route "+y+".");x.set(y,null,{replace:!0})}}function L(){g||(g=!0,setTimeout(W))}function x(C,P,A){if(!C)throw new TypeError("DOM element being rendered to does not exist.");if(q=Object.keys(A).map(function(I){if(I[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(I))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:I,component:A[I],check:o(I)}}),y=P,P!=null){var F=s(P);if(!q.some(function(I){return I.check(F)}))throw new ReferenceError("Default route doesn't match any known routes.")}R=C,h.addEventListener("popstate",L,!1),S=!0,W()}return x.set=function(C,P,A){if(H!=null&&(A=A||{},A.replace=!0),H=null,C=c(C,P),S){L();var F=A?A.state:null,I=A?A.title:null;A&&A.replace?h.history.replaceState(F,I,x.prefix+C):h.history.pushState(F,I,x.prefix+C)}else h.location.href=x.prefix+C},x.get=function(){return G},x.prefix="#!",x.Link={view:function(C){var P=i(C.attrs.selector||"a",d(C.attrs,["options","params","selector","onclick"]),C.children),A,F,I;return(P.attrs.disabled=!!P.attrs.disabled)?(P.attrs.href=null,P.attrs["aria-disabled"]="true"):(A=C.attrs.options,F=C.attrs.onclick,I=c(P.attrs.href,C.attrs.params),P.attrs.href=x.prefix+I,P.attrs.onclick=function(O){var B;typeof F=="function"?B=F.call(O.currentTarget,O):F==null||typeof F!="object"||typeof F.handleEvent=="function"&&F.handleEvent(O),B!==!1&&!O.defaultPrevented&&(O.button===0||O.which===0||O.which===1)&&(!O.currentTarget.target||O.currentTarget.target==="_self")&&!O.ctrlKey&&!O.metaKey&&!O.shiftKey&&!O.altKey&&(O.preventDefault(),O.redraw=!1,x.set(I,null,A))}),P}},x.param=function(C){return _&&C!=null?_[C]:_},x},Be}var Ve,Nt;function cr(){if(Nt)return Ve;Nt=1;var a=Ze();return Ve=lr()(typeof window<"u"?window:null,a),Ve}var Je,xt;function or(){if(xt)return Je;xt=1;var a=ir(),i=Ze(),u=sr(),c=cr(),s=function(){return a.apply(this,arguments)};return s.m=a,s.trust=a.trust,s.fragment=a.fragment,s.Fragment="[",s.mount=i.mount,s.route=c,s.render=Ht(),s.redraw=i.redraw,s.request=u.request,s.parseQueryString=Kt(),s.buildQueryString=_t(),s.parsePathname=et(),s.buildPathname=ke(),s.vnode=k(),s.censor=Bt(),s.domFor=Ut(),Je=s,Je}var hr=or();const b=er(hr);class mr{constructor(i){this.subscribers=new Set,this.staleTimeout=null,this.cacheTimeout=null,this.retryCount=0,this.state={status:"idle",data:void 0,error:null,isLoading:!1,isSuccess:!1,isError:!1,isFetching:!1,isStale:!1},this.options=i}subscribe(i){return this.subscribers.add(i),()=>{this.subscribers.delete(i)}}notify(){this.subscribers.forEach(i=>i(this.state))}updateState(i){const u=i.status??this.state.status;this.state={...this.state,...i,status:u,isLoading:u==="loading",isSuccess:u==="success",isError:u==="error",isFetching:i.isFetching??this.state.isFetching,isStale:i.isStale??this.state.isStale},this.notify()}async fetch(){this.updateState({status:"loading",isFetching:!0});try{const i=await this.options.queryFn();return this.retryCount=0,this.updateState({status:"success",data:i,error:null,isFetching:!1}),this.options.onSuccess?.(i),this.scheduleStale(),this.scheduleGarbageCollection(),i}catch(i){const u=i,c=this.options.retry??3;if(this.retryCount<c){this.retryCount++;const s=this.options.retryDelay??Math.min(1e3*2**this.retryCount,3e4);return await new Promise(o=>setTimeout(o,s)),this.fetch()}throw this.updateState({status:"error",error:u,isFetching:!1}),this.options.onError?.(u),u}}invalidate(){this.clearStaleTimeout(),this.fetch()}scheduleStale(){this.clearStaleTimeout();const i=this.options.staleTime??0;this.updateState({isStale:!1}),i>0?this.staleTimeout=setTimeout(()=>{this.updateState({isStale:!0})},i):this.updateState({isStale:!0})}scheduleGarbageCollection(){this.clearCacheTimeout();const i=this.options.cacheTime??300*1e3;this.cacheTimeout=setTimeout(()=>{this.subscribers.size===0&&this.destroy()},i)}clearStaleTimeout(){this.staleTimeout&&(clearTimeout(this.staleTimeout),this.staleTimeout=null)}clearCacheTimeout(){this.cacheTimeout&&(clearTimeout(this.cacheTimeout),this.cacheTimeout=null)}destroy(){this.clearStaleTimeout(),this.clearCacheTimeout(),this.subscribers.clear()}}class pr{constructor(i){this.subscribers=new Set,this.state={status:"idle",data:void 0,error:null,isLoading:!1,isSuccess:!1,isError:!1},this.options=i}subscribe(i){return this.subscribers.add(i),()=>{this.subscribers.delete(i)}}notify(){this.subscribers.forEach(i=>i(this.state))}updateState(i){const u=i.status??this.state.status;this.state={...this.state,...i,status:u,isLoading:u==="loading",isSuccess:u==="success",isError:u==="error"},this.notify()}async mutate(i){this.updateState({status:"loading"});try{const u=await this.options.mutationFn(i);return this.updateState({status:"success",data:u,error:null}),this.options.onSuccess?.(u,i),this.options.onSettled?.(u,null,i),u}catch(u){const c=u;throw this.updateState({status:"error",error:c}),this.options.onError?.(c,i),this.options.onSettled?.(void 0,c,i),c}}reset(){this.state={status:"idle",data:void 0,error:null,isLoading:!1,isSuccess:!1,isError:!1},this.notify()}}class yr{constructor(){this.queries=new Map}getQueryKey(i){return typeof i=="string"?i:JSON.stringify(i)}getQuery(i){const u=this.getQueryKey(i.queryKey);if(!this.queries.has(u)){const c=new mr(i);this.queries.set(u,c)}return this.queries.get(u)}invalidateQueries(i){if(i){const u=this.getQueryKey(i);this.queries.get(u)?.invalidate()}else this.queries.forEach(u=>u.invalidate())}removeQueries(i){if(i){const u=this.getQueryKey(i);this.queries.get(u)?.destroy(),this.queries.delete(u)}else this.queries.forEach(u=>u.destroy()),this.queries.clear()}createMutation(i){return new pr(i)}clear(){this.removeQueries()}}function dr(a){let i;const u=new Set,c=()=>i,s=(h,l)=>{const v=i,g=typeof h=="function"?h(v):h;if(g===v)return;let S;l||typeof g!="object"||g===null?S=g:S={...v,...g},i=S,u.forEach(p=>p(i,v))},o=h=>(u.add(h),()=>{u.delete(h)}),d=()=>{u.clear()};return i=a(s,c),{getState:c,setState:s,subscribe:o,destroy:d}}let Xe;function gr(a){Xe=a}function Vt(){if(!Xe)throw new Error("QueryClient not set. Call setQueryClient() before using queries.");return Xe}const Ge=new WeakMap;function wr(a){let i;return{oninit(){i=Vt().getQuery(a);const c=i.subscribe(()=>{b.redraw()});Ge.set(i,c),a.enabled!==!1&&i.state.status==="idle"&&i.fetch().catch(()=>{})},onremove(){const u=Ge.get(i);u&&(u(),Ge.delete(i))},view(u){return u.attrs.children(i.state)}}}const We=new WeakMap;function br(a){let i;return{oninit(){i=Vt().createMutation(a);const c=i.subscribe(()=>{b.redraw()});We.set(i,c)},onremove(){const u=We.get(i);u&&(u(),We.delete(i))},view(u){const c={mutate:s=>i.mutate(s),mutateAsync:s=>i.mutate(s),reset:()=>i.reset(),state:i.state};return u.attrs.children(c)}}}function qr(a,i,u=Object.is){const c=(s=>s);return{oninit(s){const o=s.state,d=c(a.getState());o.selected=d,o.unsubscribe=a.subscribe(h=>{const l=c(h);u(o.selected,l)||(o.selected=l,b.redraw())})},onremove(s){const o=s.state;o.unsubscribe&&(o.unsubscribe(),o.unsubscribe=void 0)},view(s){const o=s.state;return s.attrs.children(o.selected)}}}const Rr=async a=>{if(await new Promise(i=>setTimeout(i,1e3)),a===999)throw new Error("User not found");return{id:a,name:`User ${a}`,email:`user${a}@example.com`}},Sr=async a=>(await new Promise(i=>setTimeout(i,1e3)),{id:Math.floor(Math.random()*1e3),...a});let ue=1,re="",ie="";const Cr=wr({queryKey:["user",ue],queryFn:()=>Rr(ue),retry:0}),vr=br({mutationFn:Sr,onSuccess:a=>{console.log("Post created:",a),re="",ie=""}}),Tr=dr(a=>({count:0,increment:()=>a(i=>({count:i.count+1})),reset:()=>a({count:0})})),Er=qr(Tr),Ar={view:()=>b("div.app",[b("h1","ts-query Mithril Demo"),b("div.section",[b("h2","Query Demo (createQueryComponent)"),b("div",[b("label",["User ID: ",b("input[type=number]",{value:ue,oninput:a=>{ue=Number(a.target.value),b.redraw()},min:1})]),b("button",{onclick:()=>{ue=999}},"Test Error (ID 999)")]),b(Cr,{children:a=>[a.isLoading&&b("div.loading","Loading user..."),a.isError&&b("div.error",["Error: ",a.error?.message||"Failed to fetch user"]),a.isSuccess&&a.data&&b("div.success",[b("h3","User Data:"),b("p",[b("strong","ID: "),a.data.id]),b("p",[b("strong","Name: "),a.data.name]),b("p",[b("strong","Email: "),a.data.email])])]})]),b("div.section",[b("h2","Mutation Demo (createMutationComponent)"),b(vr,{children:a=>[b("div",[b("input[type=text]",{placeholder:"Post title",value:re,oninput:i=>{re=i.target.value}}),b("textarea",{placeholder:"Post body",value:ie,oninput:i=>{ie=i.target.value}}),b("button",{onclick:async()=>{re&&ie&&await a.mutate({title:re,body:ie})},disabled:a.state.isLoading||!re||!ie},a.state.isLoading?"Creating...":"Create Post")]),a.state.isError&&b("div.error",["Error: ",a.state.error?.message||"Failed to create post"]),a.state.isSuccess&&a.state.data&&b("div.success",[b("h3","Post Created:"),b("p",[b("strong","ID: "),a.state.data.id]),b("p",[b("strong","Title: "),a.state.data.title]),b("p",[b("strong","Body: "),a.state.data.body])])]})]),b("div.section",[b("h2","Store Demo (createStoreComponent)"),b(Er,{children:a=>[b("div",[b("p",[b("strong","Count: "),a.count]),b("button",{onclick:a.increment},"Increment"),b("button",{onclick:a.reset},"Reset")])]})])])},Or=new yr;gr(Or);b.mount(document.getElementById("app"),Ar);
