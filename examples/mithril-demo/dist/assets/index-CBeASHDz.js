(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const m of s)if(m.type==="childList")for(const g of m.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function a(s){const m={};return s.integrity&&(m.integrity=s.integrity),s.referrerPolicy&&(m.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?m.credentials="include":s.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(s){if(s.ep)return;s.ep=!0;const m=a(s);fetch(s.href,m)}})();function er(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Re,ft;function k(){if(ft)return Re;ft=1;function u(i,a,c,s,m,g){return{tag:i,key:a,attrs:c,children:s,text:m,dom:g,is:void 0,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return u.normalize=function(i){return Array.isArray(i)?u("[",void 0,void 0,u.normalizeChildren(i),void 0,void 0):i==null||typeof i=="boolean"?null:typeof i=="object"?i:u("#",void 0,void 0,String(i),void 0,void 0)},u.normalizeChildren=function(i){for(var a=new Array(i.length),c=0,s=0;s<i.length;s++)a[s]=u.normalize(i[s]),a[s]!==null&&a[s].key!=null&&c++;if(c!==0&&c!==i.length)throw new TypeError(a.includes(null)?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");return a},Re=u,Re}var Ce,lt;function Ft(){if(lt)return Ce;lt=1;var u=k();return Ce=function(i,a){return i==null||typeof i=="object"&&i.tag==null&&!Array.isArray(i)?a.length===1&&Array.isArray(a[0])&&(a=a[0]):(a=a.length===0&&Array.isArray(i)?i:[i,...a],i=void 0),u("",i&&i.key,i,a)},Ce}var ve,ct;function Ye(){return ct||(ct=1,ve={}.hasOwnProperty),ve}var Te,ot;function xt(){return ot||(ot=1,Te={}),Te}var Se,ht;function $t(){if(ht)return Se;ht=1;var u=xt();return Se=new Map([[u,!0]]),Se}var Ee,mt;function It(){if(mt)return Ee;mt=1;var u=k(),i=Ft(),a=Ye(),c=xt(),s=$t(),m=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,g=Object.create(null);function p(h){for(var b in h)if(a.call(h,b))return!1;return!0}function l(h){return h==="value"||h==="checked"||h==="selectedIndex"||h==="selected"}function S(h){for(var b,w="div",y=[],D={},K=!0;b=m.exec(h);){var _=b[1],G=b[2];if(_===""&&G!=="")w=G;else if(_==="#")D.id=G;else if(_===".")y.push(G);else if(b[3][0]==="["){var H=b[6];H&&(H=H.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),b[4]==="class"?y.push(H):(D[b[4]]=H===""?H:H||!0,l(b[4])&&(K=!1))}}return y.length>0&&(D.className=y.join(" ")),p(D)?D=c:s.set(D,K),g[h]={tag:w,attrs:D,is:D.is}}function q(h,b){b.tag=h.tag;var w=b.attrs;if(w==null)return b.attrs=h.attrs,b.is=h.is,b;if(a.call(w,"class")&&(w.class!=null&&(w.className=w.class),w.class=null),h.attrs!==c){var y=w.className;w=Object.assign({},h.attrs,w),h.attrs.className!=null&&(w.className=y!=null?String(h.attrs.className)+" "+String(y):h.attrs.className)}return h.tag==="input"&&a.call(w,"type")&&(w=Object.assign({type:w.type},w)),b.is=w.is,b.attrs=w,b}function v(h,b,...w){if(h==null||typeof h!="string"&&typeof h!="function"&&typeof h.view!="function")throw Error("The selector must be either a string or a component.");var y=i(b,w);return typeof h=="string"&&(y.children=u.normalizeChildren(y.children),h!=="[")?q(g[h]||S(h),y):(y.attrs==null&&(y.attrs={}),y.tag=h,y)}return Ee=v,Ee}var Ae,pt;function tr(){if(pt)return Ae;pt=1;var u=k();return Ae=function(i){return i==null&&(i=""),u("<",void 0,void 0,i,void 0,void 0)},Ae}var Oe,yt;function rr(){if(yt)return Oe;yt=1;var u=k(),i=Ft();return Oe=function(a,...c){var s=i(a,c);return s.attrs==null&&(s.attrs={}),s.tag="[",s.children=u.normalizeChildren(s.children),s},Oe}var Me,gt;function ir(){if(gt)return Me;gt=1;var u=It();return u.trust=tr(),u.fragment=rr(),Me=u,Me}var Pe,dt;function jt(){return dt||(dt=1,Pe=new WeakMap),Pe}var ze,wt;function Ut(){if(wt)return ze;wt=1;var u=jt();function*i(a){var c=a.dom,s=a.domSize,m=u.get(c);if(c!=null)do{var g=c.nextSibling;u.get(c)===m&&(yield c,s--),c=g}while(s)}return ze=i,ze}var Ne,bt;function nr(){if(bt)return Ne;bt=1;var u=k(),i=jt(),a=Ut(),c=$t();return Ne=function(){var s={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},m,g;function p(t){return t.ownerDocument}function l(t){return t.attrs&&t.attrs.xmlns||s[t.tag]}function S(t,e){if(t.state!==e)throw new Error("'vnode.state' must not be modified.")}function q(t){var e=t.state;try{return this.apply(e,arguments)}finally{S(t,e)}}function v(t){try{return p(t).activeElement}catch{return null}}function h(t,e,r,n,f,o,T){for(var E=r;E<n;E++){var d=e[E];d!=null&&b(t,d,f,T,o)}}function b(t,e,r,n,f){var o=e.tag;if(typeof o=="string")switch(e.state={},e.attrs!=null&&me(e.attrs,e,r),o){case"#":w(t,e,f);break;case"<":D(t,e,n,f);break;case"[":K(t,e,r,n,f);break;default:_(t,e,r,n,f)}else H(t,e,r,n,f)}function w(t,e,r){e.dom=p(t).createTextNode(e.children),ee(t,e.dom,r)}var y={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function D(t,e,r,n){var f=e.children.match(/^\s*?<(\w+)/im)||[],o=p(t).createElement(y[f[1]]||"div");r==="http://www.w3.org/2000/svg"?(o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",o=o.firstChild):o.innerHTML=e.children,e.dom=o.firstChild,e.domSize=o.childNodes.length;for(var T=p(t).createDocumentFragment(),E;E=o.firstChild;)T.appendChild(E);ee(t,T,n)}function K(t,e,r,n,f){var o=p(t).createDocumentFragment();if(e.children!=null){var T=e.children;h(o,T,0,T.length,r,null,n)}e.dom=o.firstChild,e.domSize=o.childNodes.length,ee(t,o,f)}function _(t,e,r,n,f){var o=e.tag,T=e.attrs,E=e.is;n=l(e)||n;var d=n?E?p(t).createElementNS(n,o,{is:E}):p(t).createElementNS(n,o):E?p(t).createElement(o,{is:E}):p(t).createElement(o);if(e.dom=d,T!=null&&Jt(e,T,n),ee(t,d,f),!se(e)&&e.children!=null){var M=e.children;h(d,M,0,M.length,r,null,n),e.tag==="select"&&T!=null&&Wt(e,T)}}function G(t,e){var r;if(typeof t.tag.view=="function"){if(t.state=Object.create(t.tag),r=t.state.view,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0}else{if(t.state=void 0,r=t.tag,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0,t.state=t.tag.prototype!=null&&typeof t.tag.prototype.view=="function"?new t.tag(t):t.tag(t)}if(me(t.state,t,e),t.attrs!=null&&me(t.attrs,t,e),t.instance=u.normalize(q.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null}function H(t,e,r,n,f){G(e,r),e.instance!=null?(b(t,e.instance,r,n,f),e.dom=e.instance.dom,e.domSize=e.instance.domSize):e.domSize=0}function Y(t,e,r,n,f,o){if(!(e===r||e==null&&r==null))if(e==null||e.length===0)h(t,r,0,r.length,n,f,o);else if(r==null||r.length===0)X(t,e,0,e.length);else{var T=e[0]!=null&&e[0].key!=null,E=r[0]!=null&&r[0].key!=null,d=0,M=0;if(!T)for(;M<e.length&&e[M]==null;)M++;if(!E)for(;d<r.length&&r[d]==null;)d++;if(T!==E)X(t,e,M,e.length),h(t,r,d,r.length,n,f,o);else if(E){for(var V=e.length-1,U=r.length-1,le,J,I,Q,N,ge;V>=M&&U>=d&&(Q=e[V],N=r[U],Q.key===N.key);)Q!==N&&z(t,Q,N,n,f,o),N.dom!=null&&(f=N.dom),V--,U--;for(;V>=M&&U>=d&&(J=e[M],I=r[d],J.key===I.key);)M++,d++,J!==I&&z(t,J,I,n,O(e,M,f),o);for(;V>=M&&U>=d&&!(d===U||J.key!==N.key||Q.key!==I.key);)ge=O(e,M,f),B(t,Q,ge),Q!==I&&z(t,Q,I,n,ge,o),++d<=--U&&B(t,J,f),J!==N&&z(t,J,N,n,f,o),N.dom!=null&&(f=N.dom),M++,V--,Q=e[V],N=r[U],J=e[M],I=r[d];for(;V>=M&&U>=d&&Q.key===N.key;)Q!==N&&z(t,Q,N,n,f,o),N.dom!=null&&(f=N.dom),V--,U--,Q=e[V],N=r[U];if(d>U)X(t,e,M,V+1);else if(M>V)h(t,r,d,U+1,n,f,o);else{var kt=f,st=U-d+1,ae=new Array(st),de=0,$=0,we=2147483647,be=0,le,qe;for($=0;$<st;$++)ae[$]=-1;for($=U;$>=d;$--){le==null&&(le=A(e,M,V+1)),N=r[$];var te=le[N.key];te!=null&&(we=te<we?te:-1,ae[$-d]=te,Q=e[te],e[te]=null,Q!==N&&z(t,Q,N,n,f,o),N.dom!=null&&(f=N.dom),be++)}if(f=kt,be!==V-M+1&&X(t,e,M,V+1),be===0)h(t,r,d,U+1,n,f,o);else if(we===-1)for(qe=j(ae),de=qe.length-1,$=U;$>=d;$--)I=r[$],ae[$-d]===-1?b(t,I,n,o,f):qe[de]===$-d?de--:B(t,I,f),I.dom!=null&&(f=r[$].dom);else for($=U;$>=d;$--)I=r[$],ae[$-d]===-1&&b(t,I,n,o,f),I.dom!=null&&(f=r[$].dom)}}else{var ye=e.length<r.length?e.length:r.length;for(d=d<M?d:M;d<ye;d++)J=e[d],I=r[d],!(J===I||J==null&&I==null)&&(J==null?b(t,I,n,o,O(e,d+1,f)):I==null?fe(t,J):z(t,J,I,n,O(e,d+1,f),o));e.length>ye&&X(t,e,d,e.length),r.length>ye&&h(t,r,d,r.length,n,f,o)}}}function z(t,e,r,n,f,o){var T=e.tag,E=r.tag;if(T===E&&e.is===r.is){if(r.state=e.state,r.events=e.events,Zt(r,e))return;if(typeof T=="string")switch(r.attrs!=null&&pe(r.attrs,r,n),T){case"#":W(e,r);break;case"<":F(t,e,r,o,f);break;case"[":L(t,e,r,n,f,o);break;default:C(e,r,n,o)}else P(t,e,r,n,f,o)}else fe(t,e),b(t,r,n,o,f)}function W(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}function F(t,e,r,n,f){e.children!==r.children?(rt(t,e),D(t,r,n,f)):(r.dom=e.dom,r.domSize=e.domSize)}function L(t,e,r,n,f,o){Y(t,e.children,r.children,n,f,o);var T=0,E=r.children;if(r.dom=null,E!=null)for(var d=0;d<E.length;d++){var M=E[d];M!=null&&M.dom!=null&&(r.dom==null&&(r.dom=M.dom),T+=M.domSize||1)}r.domSize=T}function C(t,e,r,n){var f=e.dom=t.dom;n=l(e)||n,(t.attrs!=e.attrs||e.attrs!=null&&!c.get(e.attrs))&&Xt(e,t.attrs,e.attrs,n),se(e)||Y(f,t.children,e.children,r,null,n)}function P(t,e,r,n,f,o){if(r.instance=u.normalize(q.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");pe(r.state,r,n),r.attrs!=null&&pe(r.attrs,r,n),r.instance!=null?(e.instance==null?b(t,r.instance,n,o,f):z(t,e.instance,r.instance,n,f,o),r.dom=r.instance.dom,r.domSize=r.instance.domSize):(e.instance!=null&&fe(t,e.instance),r.domSize=0)}function A(t,e,r){for(var n=Object.create(null);e<r;e++){var f=t[e];if(f!=null){var o=f.key;o!=null&&(n[o]=e)}}return n}var x=[];function j(t){for(var e=[0],r=0,n=0,f=0,o=x.length=t.length,f=0;f<o;f++)x[f]=t[f];for(var f=0;f<o;++f)if(t[f]!==-1){var T=e[e.length-1];if(t[T]<t[f]){x[f]=T,e.push(f);continue}for(r=0,n=e.length-1;r<n;){var E=(r>>>1)+(n>>>1)+(r&n&1);t[e[E]]<t[f]?r=E+1:n=E}t[f]<t[e[r]]&&(r>0&&(x[f]=e[r-1]),e[r]=f)}for(r=e.length,n=e[r-1];r-- >0;)e[r]=n,n=x[n];return x.length=0,e}function O(t,e,r){for(;e<t.length;e++)if(t[e]!=null&&t[e].dom!=null)return t[e].dom;return r}function B(t,e,r){if(e.dom!=null){var n;if(e.domSize==null||e.domSize===1)n=e.dom;else{n=p(t).createDocumentFragment();for(var f of a(e))n.appendChild(f)}ee(t,n,r)}}function ee(t,e,r){r!=null?t.insertBefore(e,r):t.appendChild(e)}function se(t){if(t.attrs==null||t.attrs.contenteditable==null&&t.attrs.contentEditable==null)return!1;var e=t.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var r=e[0].children;t.dom.innerHTML!==r&&(t.dom.innerHTML=r)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function X(t,e,r,n){for(var f=r;f<n;f++){var o=e[f];o!=null&&fe(t,o)}}function Z(t,e,r,n){var f=e.state,o=q.call(r.onbeforeremove,e);if(o!=null){var T=g;for(var E of a(e))i.set(E,T);n.v++,Promise.resolve(o).finally(function(){S(e,f),tt(t,e,n)})}}function tt(t,e,r){--r.v===0&&(ce(e),rt(t,e))}function fe(t,e){var r={v:1};typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"&&Z(t,e,e.state,r),e.attrs&&typeof e.attrs.onbeforeremove=="function"&&Z(t,e,e.attrs,r),tt(t,e,r)}function rt(t,e){if(e.dom!=null)if(e.domSize==null||e.domSize===1)t.removeChild(e.dom);else for(var r of a(e))t.removeChild(r)}function ce(t){if(typeof t.tag!="string"&&typeof t.state.onremove=="function"&&q.call(t.state.onremove,t),t.attrs&&typeof t.attrs.onremove=="function"&&q.call(t.attrs.onremove,t),typeof t.tag!="string")t.instance!=null&&ce(t.instance);else{t.events!=null&&(t.events._=null);var e=t.children;if(Array.isArray(e))for(var r=0;r<e.length;r++){var n=e[r];n!=null&&ce(n)}}}function Jt(t,e,r){for(var n in e)oe(t,n,null,e[n],r)}function oe(t,e,r,n,f){if(!(e==="key"||n==null||it(e)||r===n&&!Yt(t,e)&&typeof n!="object")){if(e[0]==="o"&&e[1]==="n")return ut(t,e,n);if(e.slice(0,6)==="xlink:")t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),n);else if(e==="style")at(t.dom,r,n);else if(nt(t,e,f)){if(e==="value"){if((t.tag==="input"||t.tag==="textarea")&&t.dom.value===""+n||t.tag==="select"&&r!==null&&t.dom.value===""+n||t.tag==="option"&&r!==null&&t.dom.value===""+n)return;if(t.tag==="input"&&t.attrs.type==="file"&&""+n!=""){console.error("`value` is read-only on file inputs!");return}}t.tag==="input"&&e==="type"?t.dom.setAttribute(e,n):t.dom[e]=n}else typeof n=="boolean"?n?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute(e==="className"?"class":e,n)}}function Gt(t,e,r,n){if(!(e==="key"||r==null||it(e)))if(e[0]==="o"&&e[1]==="n")ut(t,e,void 0);else if(e==="style")at(t.dom,r,null);else if(nt(t,e,n)&&e!=="className"&&e!=="title"&&!(e==="value"&&(t.tag==="option"||t.tag==="select"&&t.dom.selectedIndex===-1&&t.dom===v(t.dom)))&&!(t.tag==="input"&&e==="type"))t.dom[e]=null;else{var f=e.indexOf(":");f!==-1&&(e=e.slice(f+1)),r!==!1&&t.dom.removeAttribute(e==="className"?"class":e)}}function Wt(t,e){if("value"in e)if(e.value===null)t.dom.selectedIndex!==-1&&(t.dom.value=null);else{var r=""+e.value;(t.dom.value!==r||t.dom.selectedIndex===-1)&&(t.dom.value=r)}"selectedIndex"in e&&oe(t,"selectedIndex",null,e.selectedIndex,void 0)}function Xt(t,e,r,n){var f;if(e!=null){e===r&&!c.has(r)&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major");for(var o in e)(f=e[o])!=null&&(r==null||r[o]==null)&&Gt(t,o,f,n)}if(r!=null)for(var o in r)oe(t,o,e&&e[o],r[o],n)}function Yt(t,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&(t.dom===v(t.dom)||t.tag==="option"&&t.dom.parentNode===v(t.dom))}function it(t){return t==="oninit"||t==="oncreate"||t==="onupdate"||t==="onremove"||t==="onbeforeremove"||t==="onbeforeupdate"}function nt(t,e,r){return r===void 0&&(t.tag.indexOf("-")>-1||t.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in t.dom}function at(t,e,r){if(e!==r)if(r==null)t.style="";else if(typeof r!="object")t.style=r;else if(e==null||typeof e!="object"){t.style="";for(var n in r){var f=r[n];f!=null&&(n.includes("-")?t.style.setProperty(n,String(f)):t.style[n]=String(f))}}else{for(var n in e)e[n]!=null&&r[n]==null&&(n.includes("-")?t.style.removeProperty(n):t.style[n]="");for(var n in r){var f=r[n];f!=null&&(f=String(f))!==String(e[n])&&(n.includes("-")?t.style.setProperty(n,f):t.style[n]=f)}}}function he(){this._=m}he.prototype=Object.create(null),he.prototype.handleEvent=function(t){var e=this["on"+t.type],r;typeof e=="function"?r=e.call(t.currentTarget,t):typeof e.handleEvent=="function"&&e.handleEvent(t);var n=this;n._!=null&&(t.redraw!==!1&&(0,n._)(),r!=null&&typeof r.then=="function"&&Promise.resolve(r).then(function(){n._!=null&&t.redraw!==!1&&(0,n._)()})),r===!1&&(t.preventDefault(),t.stopPropagation())};function ut(t,e,r){if(t.events!=null){if(t.events._=m,t.events[e]===r)return;r!=null&&(typeof r=="function"||typeof r=="object")?(t.events[e]==null&&t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=r):(t.events[e]!=null&&t.dom.removeEventListener(e.slice(2),t.events,!1),t.events[e]=void 0)}else r!=null&&(typeof r=="function"||typeof r=="object")&&(t.events=new he,t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=r)}function me(t,e,r){typeof t.oninit=="function"&&q.call(t.oninit,e),typeof t.oncreate=="function"&&r.push(q.bind(t.oncreate,e))}function pe(t,e,r){typeof t.onupdate=="function"&&r.push(q.bind(t.onupdate,e))}function Zt(t,e){do{if(t.attrs!=null&&typeof t.attrs.onbeforeupdate=="function"){var r=q.call(t.attrs.onbeforeupdate,t,e);if(r!==void 0&&!r)break}if(typeof t.tag!="string"&&typeof t.state.onbeforeupdate=="function"){var r=q.call(t.state.onbeforeupdate,t,e);if(r!==void 0&&!r)break}return!1}while(!1);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}var ne;return function(t,e,r){if(!t)throw new TypeError("DOM element being rendered to does not exist.");if(ne!=null&&t.contains(ne))throw new TypeError("Node is currently being rendered to and thus is locked.");var n=m,f=ne,o=[],T=v(t),E=t.namespaceURI;ne=t,m=typeof r=="function"?r:void 0,g={};try{t.vnodes==null&&(t.textContent=""),e=u.normalizeChildren(Array.isArray(e)?e:[e]),Y(t,t.vnodes,e,o,null,E==="http://www.w3.org/1999/xhtml"?void 0:E),t.vnodes=e,T!=null&&v(t)!==T&&typeof T.focus=="function"&&T.focus();for(var d=0;d<o.length;d++)o[d]()}finally{m=n,ne=f}}},Ne}var De,qt;function Ht(){return qt||(qt=1,De=nr()()),De}var Le,Rt;function ar(){if(Rt)return Le;Rt=1;var u=k();return Le=function(i,a,c){var s=[],m=!1,g=-1;function p(){for(g=0;g<s.length;g+=2)try{i(s[g],u(s[g+1]),l)}catch(q){c.error(q)}g=-1}function l(){m||(m=!0,a(function(){m=!1,p()}))}l.sync=p;function S(q,v){if(v!=null&&v.view==null&&typeof v!="function")throw new TypeError("m.mount expects a component, not a vnode.");var h=s.indexOf(q);h>=0&&(s.splice(h,2),h<=g&&(g-=2),i(q,[])),v!=null&&(s.push(q,v),i(q,u(v),l))}return{mount:S,redraw:l}},Le}var Fe,Ct;function Ze(){if(Ct)return Fe;Ct=1;var u=Ht();return Fe=ar()(u,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),Fe}var xe,vt;function _t(){return vt||(vt=1,xe=function(u){if(Object.prototype.toString.call(u)!=="[object Object]")return"";var i=[];for(var a in u)c(a,u[a]);return i.join("&");function c(s,m){if(Array.isArray(m))for(var g=0;g<m.length;g++)c(s+"["+g+"]",m[g]);else if(Object.prototype.toString.call(m)==="[object Object]")for(var g in m)c(s+"["+g+"]",m[g]);else i.push(encodeURIComponent(s)+(m!=null&&m!==""?"="+encodeURIComponent(m):""))}}),xe}var $e,Tt;function ke(){if(Tt)return $e;Tt=1;var u=_t();return $e=function(i,a){if(/:([^\/\.-]+)(\.{3})?:/.test(i))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(a==null)return i;var c=i.indexOf("?"),s=i.indexOf("#"),m=s<0?i.length:s,g=c<0?m:c,p=i.slice(0,g),l={};Object.assign(l,a);var S=p.replace(/:([^\/\.-]+)(\.{3})?/g,function(D,K,_){return delete l[K],a[K]==null?D:_?a[K]:encodeURIComponent(String(a[K]))}),q=S.indexOf("?"),v=S.indexOf("#"),h=v<0?S.length:v,b=q<0?h:q,w=S.slice(0,b);c>=0&&(w+=i.slice(c,m)),q>=0&&(w+=(c<0?"?":"&")+S.slice(q,h));var y=u(l);return y&&(w+=(c<0&&q<0?"?":"&")+y),s>=0&&(w+=i.slice(s)),v>=0&&(w+=(s<0?"":"&")+S.slice(v)),w},$e}var Ie,St;function ur(){if(St)return Ie;St=1;var u=ke(),i=Ye();return Ie=function(a,c){function s(p){return new Promise(p)}function m(p,l){return new Promise(function(S,q){p=u(p,l.params);var v=l.method!=null?l.method.toUpperCase():"GET",h=l.body,b=(l.serialize==null||l.serialize===JSON.serialize)&&!(h instanceof a.FormData||h instanceof a.URLSearchParams),w=l.responseType||(typeof l.extract=="function"?"":"json"),y=new a.XMLHttpRequest,D=!1,K=!1,_=y,G,H=y.abort;y.abort=function(){D=!0,H.call(this)},y.open(v,p,l.async!==!1,typeof l.user=="string"?l.user:void 0,typeof l.password=="string"?l.password:void 0),b&&h!=null&&!g(l,"content-type")&&y.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof l.deserialize!="function"&&!g(l,"accept")&&y.setRequestHeader("Accept","application/json, text/*"),l.withCredentials&&(y.withCredentials=l.withCredentials),l.timeout&&(y.timeout=l.timeout),y.responseType=w;for(var Y in l.headers)i.call(l.headers,Y)&&y.setRequestHeader(Y,l.headers[Y]);y.onreadystatechange=function(z){if(!D&&z.target.readyState===4)try{var W=z.target.status>=200&&z.target.status<300||z.target.status===304||/^file:\/\//i.test(p),F=z.target.response,L;if(w==="json"){if(!z.target.responseType&&typeof l.extract!="function")try{F=JSON.parse(z.target.responseText)}catch{F=null}}else(!w||w==="text")&&F==null&&(F=z.target.responseText);if(typeof l.extract=="function"?(F=l.extract(z.target,l),W=!0):typeof l.deserialize=="function"&&(F=l.deserialize(F)),W){if(typeof l.type=="function")if(Array.isArray(F))for(var C=0;C<F.length;C++)F[C]=new l.type(F[C]);else F=new l.type(F);S(F)}else{var P=function(){try{L=z.target.responseText}catch{L=F}var A=new Error(L);A.code=z.target.status,A.response=F,q(A)};y.status===0?setTimeout(function(){K||P()}):P()}}catch(A){q(A)}},y.ontimeout=function(z){K=!0;var W=new Error("Request timed out");W.code=z.target.status,q(W)},typeof l.config=="function"&&(y=l.config(y,l,p)||y,y!==_&&(G=y.abort,y.abort=function(){D=!0,G.call(this)})),h==null?y.send():typeof l.serialize=="function"?y.send(l.serialize(h)):h instanceof a.FormData||h instanceof a.URLSearchParams?y.send(h):y.send(JSON.stringify(h))})}s.prototype=Promise.prototype,s.__proto__=Promise;function g(p,l){for(var S in p.headers)if(i.call(p.headers,S)&&S.toLowerCase()===l)return!0;return!1}return{request:function(p,l){typeof p!="string"?(l=p,p=p.url):l==null&&(l={});var S=m(p,l);if(l.background===!0)return S;var q=0;function v(){--q===0&&typeof c=="function"&&c()}return h(S);function h(b){var w=b.then;return b.constructor=s,b.then=function(){q++;var y=w.apply(b,arguments);return y.then(v,function(D){if(v(),q===0)throw D}),h(y)},b}}}},Ie}var je,Et;function sr(){if(Et)return je;Et=1;var u=Ze();return je=ur()(typeof window<"u"?window:null,u.redraw),je}var Ue,At;function Qt(){if(At)return Ue;At=1;var u=/%(?:[0-7]|(?!c[01]|e0%[89]|ed%[ab]|f0%8|f4%[9ab])(?:c|d|(?:e|f[0-4]%[89ab])[\da-f]%[89ab])[\da-f]%[89ab])[\da-f]/gi;return Ue=function(i){return String(i).replace(u,decodeURIComponent)},Ue}var He,Ot;function Kt(){if(Ot)return He;Ot=1;var u=Qt();return He=function(i){if(i===""||i==null)return{};i.charAt(0)==="?"&&(i=i.slice(1));for(var a=i.split("&"),c={},s={},m=0;m<a.length;m++){var g=a[m].split("="),p=u(g[0]),l=g.length===2?u(g[1]):"";l==="true"?l=!0:l==="false"&&(l=!1);var S=p.split(/\]\[?|\[/),q=s;p.indexOf("[")>-1&&S.pop();for(var v=0;v<S.length;v++){var h=S[v],b=S[v+1],w=b==""||!isNaN(parseInt(b,10));if(h===""){var p=S.slice(0,v).join();c[p]==null&&(c[p]=Array.isArray(q)?q.length:0),h=c[p]++}else if(h==="__proto__")break;if(v===S.length-1)q[h]=l;else{var y=Object.getOwnPropertyDescriptor(q,h);y!=null&&(y=y.value),y==null&&(q[h]=y=w?[]:{}),q=y}}}return s},He}var _e,Mt;function et(){if(Mt)return _e;Mt=1;var u=Kt();return _e=function(i){var a=i.indexOf("?"),c=i.indexOf("#"),s=c<0?i.length:c,m=a<0?s:a,g=i.slice(0,m).replace(/\/{2,}/g,"/");return g?g[0]!=="/"&&(g="/"+g):g="/",{path:g,params:a<0?{}:u(i.slice(a+1,s))}},_e}var Qe,Pt;function fr(){if(Pt)return Qe;Pt=1;var u=et();return Qe=function(i){var a=u(i),c=Object.keys(a.params),s=[],m=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(g,p,l){return p==null?"\\"+g:(s.push({k:p,r:l==="..."}),l==="..."?"(.*)":l==="."?"([^/]+)\\.":"([^/]+)"+(l||""))})+"\\/?$");return function(g){for(var p=0;p<c.length;p++)if(a.params[c[p]]!==g.params[c[p]])return!1;if(!s.length)return m.test(g.path);var l=m.exec(g.path);if(l==null)return!1;for(var p=0;p<s.length;p++)g.params[s[p].k]=s[p].r?l[p+1]:decodeURIComponent(l[p+1]);return!0}},Qe}var Ke,zt;function Bt(){if(zt)return Ke;zt=1;var u=Ye(),i=/^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$/;return Ke=function(a,c){var s={};if(c!=null)for(var m in a)u.call(a,m)&&!i.test(m)&&c.indexOf(m)<0&&(s[m]=a[m]);else for(var m in a)u.call(a,m)&&!i.test(m)&&(s[m]=a[m]);return s},Ke}var Be,Nt;function lr(){if(Nt)return Be;Nt=1;var u=k(),i=It(),a=Qt(),c=ke(),s=et(),m=fr(),g=Bt();return Be=function(p,l){var S=Promise.resolve(),q=!1,v=!1,h=!1,b,w,y,D,K,_,G,H,Y={onremove:function(){v=h=!1,p.removeEventListener("popstate",F,!1)},view:function(){var C=u(K,_.key,_);return D?D.render(C):[C]}},z=L.SKIP={};function W(){q=!1;var C=p.location.hash;L.prefix[0]!=="#"&&(C=p.location.search+C,L.prefix[0]!=="?"&&(C=p.location.pathname+C,C[0]!=="/"&&(C="/"+C)));var P=a(C).slice(L.prefix.length),A=s(P);Object.assign(A.params,p.history.state);function x(O){console.error(O),L.set(y,null,{replace:!0})}j(0);function j(O){for(;O<w.length;O++)if(w[O].check(A)){var B=w[O].component,ee=w[O].route,se=B,X=H=function(Z){if(X===H){if(Z===z)return j(O+1);K=Z!=null&&(typeof Z.view=="function"||typeof Z=="function")?Z:"div",_=A.params,G=P,H=null,D=B.render?B:null,h?l.redraw():(h=!0,l.mount(b,Y))}};B.view||typeof B=="function"?(B={},X(se)):B.onmatch?S.then(function(){return B.onmatch(A.params,P,ee)}).then(X,P===y?null:x):X();return}if(P===y)throw new Error("Could not resolve default route "+y+".");L.set(y,null,{replace:!0})}}function F(){q||(q=!0,setTimeout(W))}function L(C,P,A){if(!C)throw new TypeError("DOM element being rendered to does not exist.");if(w=Object.keys(A).map(function(j){if(j[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(j))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:j,component:A[j],check:m(j)}}),y=P,P!=null){var x=s(P);if(!w.some(function(j){return j.check(x)}))throw new ReferenceError("Default route doesn't match any known routes.")}b=C,p.addEventListener("popstate",F,!1),v=!0,W()}return L.set=function(C,P,A){if(H!=null&&(A=A||{},A.replace=!0),H=null,C=c(C,P),v){F();var x=A?A.state:null,j=A?A.title:null;A&&A.replace?p.history.replaceState(x,j,L.prefix+C):p.history.pushState(x,j,L.prefix+C)}else p.location.href=L.prefix+C},L.get=function(){return G},L.prefix="#!",L.Link={view:function(C){var P=i(C.attrs.selector||"a",g(C.attrs,["options","params","selector","onclick"]),C.children),A,x,j;return(P.attrs.disabled=!!P.attrs.disabled)?(P.attrs.href=null,P.attrs["aria-disabled"]="true"):(A=C.attrs.options,x=C.attrs.onclick,j=c(P.attrs.href,C.attrs.params),P.attrs.href=L.prefix+j,P.attrs.onclick=function(O){var B;typeof x=="function"?B=x.call(O.currentTarget,O):x==null||typeof x!="object"||typeof x.handleEvent=="function"&&x.handleEvent(O),B!==!1&&!O.defaultPrevented&&(O.button===0||O.which===0||O.which===1)&&(!O.currentTarget.target||O.currentTarget.target==="_self")&&!O.ctrlKey&&!O.metaKey&&!O.shiftKey&&!O.altKey&&(O.preventDefault(),O.redraw=!1,L.set(j,null,A))}),P}},L.param=function(C){return _&&C!=null?_[C]:_},L},Be}var Ve,Dt;function cr(){if(Dt)return Ve;Dt=1;var u=Ze();return Ve=lr()(typeof window<"u"?window:null,u),Ve}var Je,Lt;function or(){if(Lt)return Je;Lt=1;var u=ir(),i=Ze(),a=sr(),c=cr(),s=function(){return u.apply(this,arguments)};return s.m=u,s.trust=u.trust,s.fragment=u.fragment,s.Fragment="[",s.mount=i.mount,s.route=c,s.render=Ht(),s.redraw=i.redraw,s.request=a.request,s.parseQueryString=Kt(),s.buildQueryString=_t(),s.parsePathname=et(),s.buildPathname=ke(),s.vnode=k(),s.censor=Bt(),s.domFor=Ut(),Je=s,Je}var hr=or();const R=er(hr);class mr{constructor(i){this.subscribers=new Set,this.abortController=null,this.staleTimeout=null,this.cacheTimeout=null,this.retryCount=0,this.state={status:"idle",data:void 0,error:null,isLoading:!1,isSuccess:!1,isError:!1,isFetching:!1,isStale:!1},this.options=i}subscribe(i){return this.subscribers.add(i),()=>{this.subscribers.delete(i)}}notify(){this.subscribers.forEach(i=>i(this.state))}updateState(i){const a=i.status??this.state.status;this.state={...this.state,...i,status:a,isLoading:a==="loading",isSuccess:a==="success",isError:a==="error",isFetching:i.isFetching??this.state.isFetching,isStale:i.isStale??this.state.isStale},this.notify()}async fetch(){this.abortController&&this.abortController.abort(),this.abortController=new AbortController,this.updateState({status:"loading",isFetching:!0});try{const i=await this.options.queryFn();return this.retryCount=0,this.updateState({status:"success",data:i,error:null,isFetching:!1}),this.options.onSuccess?.(i),this.scheduleStale(),this.scheduleGarbageCollection(),i}catch(i){const a=i,c=this.options.retry??3;if(this.retryCount<c){this.retryCount++;const s=this.options.retryDelay??Math.min(1e3*2**this.retryCount,3e4);return await new Promise(m=>setTimeout(m,s)),this.fetch()}throw this.updateState({status:"error",error:a,isFetching:!1}),this.options.onError?.(a),a}}invalidate(){this.clearStaleTimeout(),this.fetch()}scheduleStale(){this.clearStaleTimeout();const i=this.options.staleTime??0;this.updateState({isStale:!1}),i>0?this.staleTimeout=setTimeout(()=>{this.updateState({isStale:!0})},i):this.updateState({isStale:!0})}scheduleGarbageCollection(){this.clearCacheTimeout();const i=this.options.cacheTime??300*1e3;this.cacheTimeout=setTimeout(()=>{this.subscribers.size===0&&this.destroy()},i)}clearStaleTimeout(){this.staleTimeout&&(clearTimeout(this.staleTimeout),this.staleTimeout=null)}clearCacheTimeout(){this.cacheTimeout&&(clearTimeout(this.cacheTimeout),this.cacheTimeout=null)}destroy(){this.clearStaleTimeout(),this.clearCacheTimeout(),this.abortController?.abort(),this.subscribers.clear()}}class pr{constructor(i){this.subscribers=new Set,this.state={status:"idle",data:void 0,error:null,isLoading:!1,isSuccess:!1,isError:!1},this.options=i}subscribe(i){return this.subscribers.add(i),()=>{this.subscribers.delete(i)}}notify(){this.subscribers.forEach(i=>i(this.state))}updateState(i){const a=i.status??this.state.status;this.state={...this.state,...i,status:a,isLoading:a==="loading",isSuccess:a==="success",isError:a==="error"},this.notify()}async mutate(i){this.updateState({status:"loading"});try{const a=await this.options.mutationFn(i);return this.updateState({status:"success",data:a,error:null}),this.options.onSuccess?.(a,i),this.options.onSettled?.(a,null,i),a}catch(a){const c=a;throw this.updateState({status:"error",error:c}),this.options.onError?.(c,i),this.options.onSettled?.(void 0,c,i),c}}reset(){this.state={status:"idle",data:void 0,error:null,isLoading:!1,isSuccess:!1,isError:!1},this.notify()}}class yr{constructor(){this.queries=new Map}getQueryKey(i){return typeof i=="string"?i:JSON.stringify(i)}getQuery(i){const a=this.getQueryKey(i.queryKey);if(!this.queries.has(a)){const c=new mr(i);this.queries.set(a,c)}return this.queries.get(a)}invalidateQueries(i){if(i){const a=this.getQueryKey(i);this.queries.get(a)?.invalidate()}else this.queries.forEach(a=>a.invalidate())}removeQueries(i){if(i){const a=this.getQueryKey(i);this.queries.get(a)?.destroy(),this.queries.delete(a)}else this.queries.forEach(a=>a.destroy()),this.queries.clear()}createMutation(i){return new pr(i)}clear(){this.removeQueries()}}let Xe;function gr(u){Xe=u}function Vt(){if(!Xe)throw new Error("QueryClient not set. Call setQueryClient() before using queries.");return Xe}const Ge=new WeakMap;function dr(u){let i;return{oninit(){i=Vt().getQuery(u);const c=i.subscribe(()=>{R.redraw()});Ge.set(i,c),u.enabled!==!1&&i.state.status==="idle"&&i.fetch().catch(()=>{})},onremove(){const a=Ge.get(i);a&&(a(),Ge.delete(i))},view(a){return a.attrs.children(i.state)}}}const We=new WeakMap;function wr(u){let i;return{oninit(){i=Vt().createMutation(u);const c=i.subscribe(()=>{R.redraw()});We.set(i,c)},onremove(){const a=We.get(i);a&&(a(),We.delete(i))},view(a){const c={mutate:s=>i.mutate(s),mutateAsync:s=>i.mutate(s),reset:()=>i.reset(),state:i.state};return a.attrs.children(c)}}}const br=async u=>{if(await new Promise(i=>setTimeout(i,1e3)),u===999)throw new Error("User not found");return{id:u,name:`User ${u}`,email:`user${u}@example.com`}},qr=async u=>(await new Promise(i=>setTimeout(i,1e3)),{id:Math.floor(Math.random()*1e3),...u});let ue=1,re="",ie="";const Rr=dr({queryKey:["user",ue],queryFn:()=>br(ue),retry:0}),Cr=wr({mutationFn:qr,onSuccess:u=>{console.log("Post created:",u),re="",ie=""}}),vr={view:()=>R("div.app",[R("h1","ts-query Mithril Demo"),R("div.section",[R("h2","Query Demo (createQueryComponent)"),R("div",[R("label",["User ID: ",R("input[type=number]",{value:ue,oninput:u=>{ue=Number(u.target.value),R.redraw()},min:1})]),R("button",{onclick:()=>{ue=999}},"Test Error (ID 999)")]),R(Rr,{children:u=>[u.isLoading&&R("div.loading","Loading user..."),u.isError&&R("div.error",["Error: ",u.error?.message||"Failed to fetch user"]),u.isSuccess&&u.data&&R("div.success",[R("h3","User Data:"),R("p",[R("strong","ID: "),u.data.id]),R("p",[R("strong","Name: "),u.data.name]),R("p",[R("strong","Email: "),u.data.email])])]})]),R("div.section",[R("h2","Mutation Demo (createMutationComponent)"),R(Cr,{children:u=>[R("div",[R("input[type=text]",{placeholder:"Post title",value:re,oninput:i=>{re=i.target.value}}),R("textarea",{placeholder:"Post body",value:ie,oninput:i=>{ie=i.target.value}}),R("button",{onclick:async()=>{re&&ie&&await u.mutate({title:re,body:ie})},disabled:u.state.isLoading||!re||!ie},u.state.isLoading?"Creating...":"Create Post")]),u.state.isError&&R("div.error",["Error: ",u.state.error?.message||"Failed to create post"]),u.state.isSuccess&&u.state.data&&R("div.success",[R("h3","Post Created:"),R("p",[R("strong","ID: "),u.state.data.id]),R("p",[R("strong","Title: "),u.state.data.title]),R("p",[R("strong","Body: "),u.state.data.body])])]})])])},Tr=new yr;gr(Tr);R.mount(document.getElementById("app"),vr);
